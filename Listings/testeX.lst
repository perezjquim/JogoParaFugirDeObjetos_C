C51 COMPILER V9.56.0.0   TESTEX                                                            05/19/2017 14:31:37 PAGE 1   


C51 COMPILER V9.56.0.0, COMPILATION OF MODULE TESTEX
OBJECT MODULE PLACED IN .\Objects\testeX.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE testeX.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\te
                    -steX.lst) TABS(2) OBJECT(.\Objects\testeX.obj)

line level    source

   1          #include <reg51.h>
   2          #include <stdio.h>
   3          #include <string.h>
   4          #include <stdlib.h>
   5          #define true 1
   6          #define false 0
   7            
   8          #define DISPLAY_DELAY 500000
   9          
  10          
  11          /*************************/
  12          /* Constantes auxiliares */
  13          /*************************/
  14          #define X_MIN 0
  15          #define X_MAX 4
  16          #define Y_MIN 0
  17          #define Y_MAX 6
  18          #define X_INICIAL 2
  19          #define Y_INICIAL 0
  20          #define VIDAS_INICIAL 2
  21          #define TEMPO_NIVEL 9
  22          
  23          #define DIFICULDADE1 1500
  24          #define DIFICULDADE2 1200
  25          #define DIFICULDADE3 900
  26          #define DIFICULDADE4 600
  27          #define DIFICULDADE5 50
  28          /***********************************/
  29          /***********************************/
  30          
  31          /**************************/
  32          /* Conjunto de obstáculos */
  33          /**************************/
  34          #define N1_1 " ****"
  35          #define N1_2 "* *  "
  36          #define N1_3 " ** *"
  37          #define N1_4 "*****"
  38          #define N1_5 "    *"
  39          #define NR_OBSTACULOS 5
  40          
  41          /*****************************/
  42          /* Pinos do microcontrolador */
  43          /*****************************/
  44          sbit Input = P3;
  45          sbit DisplayX = P2;
  46          sbit DisplayY = P1;
  47          
  48          sbit Esquerda = P3^2;
  49          sbit Direita = P3^3;
  50          
  51          sbit DisplayX_4 = P2^0;
  52          sbit DisplayX_3 = P2^1;
  53          sbit DisplayX_2 = P2^2;
  54          sbit DisplayX_1 = P2^3;
C51 COMPILER V9.56.0.0   TESTEX                                                            05/19/2017 14:31:37 PAGE 2   

  55          sbit DisplayX_0 = P2^4;
  56          
  57          sbit DisplayY_6 = P1^0;
  58          sbit DisplayY_5 = P1^1;
  59          sbit DisplayY_4 = P1^2;
  60          sbit DisplayY_3 = P1^3;
  61          sbit DisplayY_2 = P1^4;
  62          sbit DisplayY_1 = P1^5;
  63          sbit DisplayY_0 = P1^6;
  64          /***********************************/
  65          /***********************************/
  66          
  67          
  68          //Desenha um dado ponto no display
  69          void desenharPonto(int x)
  70          {
  71   1        //Desenha em termos do x
  72   1        //(passa o X para 1 nesse ponto)
  73   1        switch(x)
  74   1        {
  75   2          case 0: DisplayX_0 = 1;
  76   2                  break;
  77   2          case 1: DisplayX_1 = 1;
  78   2                  break;
  79   2          case 2: DisplayX_2 = 1;
  80   2                  break;
  81   2          case 3: DisplayX_3 = 1;
  82   2                  break;
  83   2          case 4: DisplayX_4 = 1;
  84   2                  break;
  85   2          default:
  86   2                  break;
  87   2        }
  88   1      }
  89          
  90          //Apaga um dado ponto no display
  91          void apagarPonto(int x)
  92          {
  93   1        //Apaga em termos do x
  94   1        //(passa o X para 0 nesse ponto)
  95   1        switch(x)
  96   1        {
  97   2          case 0: DisplayX_0 = 0;
  98   2                  break;
  99   2          case 1: DisplayX_1 = 0;
 100   2                  break;
 101   2          case 2: DisplayX_2 = 0;
 102   2                  break;
 103   2          case 3: DisplayX_3 = 0;
 104   2                  break;
 105   2          case 4: DisplayX_4 = 0;
 106   2                  break;
 107   2          default:
 108   2                  break;
 109   2        }
 110   1      }
 111          
 112          
 113          void test(void)
 114          {
 115   1        
 116   1        
C51 COMPILER V9.56.0.0   TESTEX                                                            05/19/2017 14:31:37 PAGE 3   

 117   1        
 118   1        desenharPonto(0);
 119   1        desenharPonto(1);
 120   1        desenharPonto(2);
 121   1        desenharPonto(3);
 122   1      }
 123          
 124          
 125          void bosta(void)
 126          {
 127   1        //Limpa em termos do x
 128   1        DisplayX_0 = 0;
 129   1        DisplayX_1 = 0;
 130   1        DisplayX_2 = 0;
 131   1        DisplayX_3 = 0;
 132   1        DisplayX_4 = 0;
 133   1        
 134   1        //Limpa em termos do y
 135   1        DisplayY_0 = 0;
 136   1        DisplayY_1 = 0;
 137   1        DisplayY_2 = 0;
 138   1        DisplayY_3 = 0;
 139   1        DisplayY_4 = 0;
 140   1        DisplayY_5 = 0;
 141   1        DisplayY_6 = 0;
 142   1      
 143   1        //Limpa os periféricos de input
 144   1        Input = 0xFF;
 145   1        
 146   1        
 147   1        TMOD = 0xe0;      // Set T/C0 Mode 16bit timer
 148   1        ET0 = 1;        // Enable Timer 0 Interrupts 
 149   1        TR0 = 1;        // Start Timer 0 Running 
 150   1        EA = 1;         // Global Interrupt Enable 
 151   1        TH0 = 0;      //Timer count register H byte
 152   1        
 153   1        TL0 = 0;      //Timer count register L byte
 154   1        
 155   1        test();
 156   1        while(1){}
 157   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    133    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
